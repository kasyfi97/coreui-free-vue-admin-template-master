(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15622660"],{"06c5":function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));var n=a("6b75");function o(t,e){if(t){if("string"===typeof t)return Object(n["a"])(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(n["a"])(t,e):void 0}}},"21a6":function(t,e,a){(function(a){var n,o,r;(function(a,i){o=[],n=i,r="function"===typeof n?n.apply(e,o):n,void 0===r||(t.exports=r)})(0,(function(){"use strict";function e(t,e){return"undefined"==typeof e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function n(t,e,a){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){l(n.response,e,a)},n.onerror=function(){console.error("could not download file")},n.send()}function o(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function r(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,l=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype?function(t,e,a){var l=i.URL||i.webkitURL,u=document.createElement("a");e=e||t.name||"download",u.download=e,u.rel="noopener","string"==typeof t?(u.href=t,u.origin===location.origin?r(u):o(u.href)?n(t,e,a):r(u,u.target="_blank")):(u.href=l.createObjectURL(t),setTimeout((function(){l.revokeObjectURL(u.href)}),4e4),setTimeout((function(){r(u)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,a,i){if(a=a||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(e(t,i),a);else if(o(t))n(t,a,i);else{var l=document.createElement("a");l.href=t,l.target="_blank",setTimeout((function(){r(l)}))}}:function(t,e,a,o){if(o=o||open("","_blank"),o&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof t)return n(t,e,a);var r="application/octet-stream"===t.type,l=/constructor/i.test(i.HTMLElement)||i.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||r&&l)&&"object"==typeof FileReader){var s=new FileReader;s.onloadend=function(){var t=s.result;t=u?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=t:location=t,o=null},s.readAsDataURL(t)}else{var c=i.URL||i.webkitURL,m=c.createObjectURL(t);o?o.location=m:location.href=m,o=null,setTimeout((function(){c.revokeObjectURL(m)}),4e4)}});i.saveAs=l.saveAs=l,t.exports=l}))}).call(this,a("c8ba"))},2909:function(t,e,a){"use strict";a.d(e,"a",(function(){return u}));var n=a("6b75");function o(t){if(Array.isArray(t))return Object(n["a"])(t)}function r(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var i=a("06c5");function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t){return o(t)||r(t)||Object(i["a"])(t)||l()}},"6b75":function(t,e,a){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}a.d(e,"a",(function(){return n}))},fcd3:function(t,e,a){"use strict";a.r(e);var n,o,r,i,l,u,s,c,m,d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"animated fadeIn",attrs:{vf:""}},[a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("b-dropdown",{ref:"dropdown",staticClass:"m-2",attrs:{boundary:"",id:"dropdown-form",text:"Tambah / Edit Dokumen Detail",enctype:"multipart/form-data"},on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[a("b-dropdown-form",[a("b-form-group",{attrs:{validated:"",label:"Dokumen ID","label-for":"dropdown-form-Dokumen ID"}},[a("b-form-select",{attrs:{options:t.optiondokumen,required:""},model:{value:t.dokumenid,callback:function(e){t.dokumenid=e},expression:"dokumenid"}})],1),a("b-form-group",{attrs:{validated:"",label:"Mitra 1","label-for":"dropdown-form-mitra1"}},[a("b-form-select",{attrs:{options:t.options,required:""},model:{value:t.mitra1,callback:function(e){t.mitra1=e},expression:"mitra1"}})],1),a("b-form-group",{attrs:{validated:"",label:"Role Mitra","label-for":"dropdown-form-name"},on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[a("b-form-input",{attrs:{id:"dropdown-form-name",size:"sm",placeholder:"Role Mitra",required:""},model:{value:t.rolemitra,callback:function(e){t.rolemitra=e},expression:"rolemitra"}})],1),a("b-form-group",{attrs:{label:"No Dokumen Mitra","label-for":"dropdown-form-email"}},[a("b-form-input",{attrs:{id:"dropdown-form-email",size:"sm",placeholder:"No Dokumen Mitra"},model:{value:t.nodokumenmitra,callback:function(e){t.nodokumenmitra=e},expression:"nodokumenmitra"}})],1),a("b-form-group",{attrs:{label:"Nama Lengkap","label-for":"dropdown-form-nama"}},[a("b-form-input",{attrs:{id:"dropdown-form-nama",size:"sm",placeholder:"Nama Lengkap"},model:{value:t.nama,callback:function(e){t.nama=e},expression:"nama"}})],1),a("b-form-group",{attrs:{label:"Email","label-for":"dropdown-form-email"}},[a("b-form-input",{attrs:{id:"dropdown-form-email",size:"sm",placeholder:"email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("b-form-group",{attrs:{label:"Telp","label-for":"dropdown-form-tel"}},[a("b-form-input",{attrs:{id:"dropdown-form-nama",size:"sm",placeholder:"081xxxxx"},model:{value:t.telp,callback:function(e){t.telp=e},expression:"telp"}})],1),a("b-form-group",{attrs:{label:"Alamat","label-for":"dropdown-form-Alamat"}},[a("b-form-input",{attrs:{id:"dropdown-form-Alamat",size:"sm",placeholder:"Alamat"},model:{value:t.alamat,callback:function(e){t.alamat=e},expression:"alamat"}})],1),a("b-button",{directives:[{name:"show",rawName:"v-show",value:!t.updateSubmit,expression:"!updateSubmit"}],attrs:{variant:"primary",size:"sm"},on:{click:t.onClick}},[t._v("Add")]),a("b-button",{directives:[{name:"show",rawName:"v-show",value:t.updateSubmit,expression:"updateSubmit"}],attrs:{variant:"primary",size:"sm"},on:{click:t.onClickUpdate}},[t._v("Update")])],1)],1),a("b-button",{attrs:{variant:"primary"},on:{click:t.onClickrender}},[t._v("Refresh Form")]),a("b-button",{attrs:{variant:"primary"},on:{click:t.onDelete}},[t._v("\n        Delete\n      ")]),a("c-table",{attrs:{"table-data":t.items,fixed:"",bordered:"",caption:"<i class='fa fa-align-justify'></i> Table Dokumen"},on:{"row-clicked":function(e){return t.onClickForm(e)}}})],1)],1)],1)},p=[],f=(a("a481"),a("2909")),h=(a("cadf"),a("8615"),a("ac6a"),a("96cf"),a("1da1")),b=(a("8992"),a("8229")),k=a("2ee4"),v=(a("da93"),a("21a6"),function(){return Object(h["a"])(regeneratorRuntime.mark((function t(){var e,a,u,s,c,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=localStorage.getItem("tokena"),t.next=3,axios.post("http://dks.it.maranatha.edu:3000/detail",{token:r,_method:"GET"}).catch((function(t){return console.log("Ada Error dengan Dokumen")}));case 3:return n=t.sent,t.next=6,axios.post("http://dks.it.maranatha.edu:3000/mitra",{token:r,_method:"GET"}).catch((function(t){return console.log("Ada Error dengan Mitra")}));case 6:return i=t.sent,t.next=9,axios.post("http://dks.it.maranatha.edu:3000/dokumen",{token:r,_method:"GET"}).catch((function(t){return console.log("Ada Error dengan Mitra")}));case 9:for(o=t.sent,e=[],m=[],Object.values(o.data.values).forEach((function(t){e.push(t)})),console.log(e),[],a=e,u=JSON.parse(JSON.stringify(a)),s=0;s<u.length;s++)m.push({value:u[s]["id"],text:u[s]["no_dokumen"]});for(console.log(m),c=[],l=[],Object.values(i.data.values).forEach((function(t){c.push(t)})),console.log(c),[],a=c,u=JSON.parse(JSON.stringify(a)),s=0;s<u.length;s++)l.push({value:u[s]["id_mitra"],text:u[s]["nama_mitra"]});return d=[],[],d=Object(f["a"])(n.data.values),console.log(d),t.abrupt("return",d);case 32:case"end":return t.stop()}}),t)})))}),g={computed:{noDokumenState:function(){var t;return t=null!=this.noDokumen,t},judulState:function(){var t;return t=null!=this.judul,t},mulaiState:function(){var t;return t=null!=this.valueTanggalMulai,t},akhirState:function(){var t;return t=null!=this.valueTanggalAkhir,t},mitra1State:function(){var t;return t=null!=this.mitra1,t},mitras:function(){return this.options=l,this.options}},name:"tablesdetail",components:{cTable:b["a"],FormWizard:k["FormWizard"],TabContent:k["TabContent"]},data:function(){return{dokumenid:null,rolemitra:null,selected:null,alamat:null,telp:null,nama:null,email:null,optiondokumen:[],nodokumenmitra:null,mitra1:null,options:[],updateSubmit:!1,clicked:!0,items:v,itemsArray:v()}},methods:{onClick:function(){var t=this;!1===this.clicked?this.clicked=!0:this.clicked=!1,c=[],c.push(this.mitra1);axios.post("http://dks.it.maranatha.edu:3000/detail",{token:r,dokumen_id:this.dokumenid,mitra_id_mitra:c,role_mitra:this.rolemitra,no_dokumen_mitra:this.nodokumenmitra,fullName:this.nama,email:this.email,tel:this.telp,address:this.alamat}).catch((function(e){return t.$router.push({path:"/pages/500"})}));location.reload()},onClickForm:function(t){alert(JSON.stringify(t)),JSON.stringify(t["no_dokumen"]).replace(/"/g,""),u=JSON.stringify(t["dokumen_id"]).replace(/"/g,""),s=JSON.stringify(t["mitra_id_mitra"]).replace(/"/g,"");var e=JSON.stringify(t["no_dokumen_mitra"]).replace(/"/g,""),a=(JSON.stringify(t["nama_mitra"]).replace(/"/g,""),JSON.stringify(t["role_mitra"]).replace(/"/g,"")),n=JSON.stringify(t["nama_lengkap"]).replace(/"/g,""),o=JSON.stringify(t["email"]).replace(/"/g,""),r=JSON.stringify(t["nomor_telepon"]).replace(/"/g,""),i=JSON.stringify(t["alamat"]).replace(/"/g,"");this.dokumenid=u,this.mitra1=s,this.rolemitra=a,this.nodokumenmitra=e,this.nama=n,this.email=o,this.telp=r,this.alamat=i,this.updateSubmit=!0},onClickrender:function(){this.options=l,this.optiondokumen=m,this.tahun=null,this.noDokumen=null,this.judul=null,this.selected=null,this.manfaat=null,this.valueTanggalMulai=null,this.valueTanggalAkhir=null,this.refDokumen=null,this.mitra1=null,this.mitra2=null,this.file=null,this.updateSubmit=!1},onClickUpdate:function(){c=[],c.push(this.mitra1);axios.put("http://dks.it.maranatha.edu:3000/detail",{token:r,dokumen_id:this.dokumenid,mitra_id_mitra:c,role_mitra:this.rolemitra,no_dokumen_mitra:this.nodokumenmitra,fullName:this.nama,email:this.email,tel:this.telp,address:this.alamat});this.updateSubmit=!1,console.log("masuk ke updte berhasil")},onDownload:function(){var t=this;console.log(r);axios.post("http://dks.it.maranatha.edu:3000/docs/"+cTahun,{_method:"GET",token:r},{responseType:"blob"}).then((function(t){console.log(t);var e=window.URL.createObjectURL(new Blob([t.data])),a=document.createElement("a");a.href=e,a.setAttribute("download",cTahun+" "+cJudul+".pdf"),document.body.appendChild(a),a.click()})).catch((function(e){return t.$router.push({path:"/pages/500"})}))},onDelete:function(){axios.post("http://dks.it.maranatha.edu:3000/detail",{token:r,dokumen_id:u,mitra_id_mitra:s,_method:"DELETE"});location.reload()}},mounted:function(){this.onClickrender()}},w=g,y=a("2877"),_=Object(y["a"])(w,d,p,!1,null,null,null);e["default"]=_.exports}}]);
//# sourceMappingURL=chunk-15622660.9c691090.js.map
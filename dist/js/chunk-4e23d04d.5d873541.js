(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4e23d04d"],{"06c5":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("6b75");function o(e,t){if(e){if("string"===typeof e)return Object(n["a"])(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?Object(n["a"])(e,t):void 0}}},"21a6":function(e,t,a){(function(a){var n,o,r;(function(a,i){o=[],n=i,r="function"===typeof n?n.apply(t,o):n,void 0===r||(e.exports=r)})(0,(function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function n(e,t,a){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){l(n.response,t,a)},n.onerror=function(){console.error("could not download file")},n.send()}function o(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function r(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,l=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype?function(e,t,a){var l=i.URL||i.webkitURL,u=document.createElement("a");t=t||e.name||"download",u.download=t,u.rel="noopener","string"==typeof e?(u.href=e,u.origin===location.origin?r(u):o(u.href)?n(e,t,a):r(u,u.target="_blank")):(u.href=l.createObjectURL(e),setTimeout((function(){l.revokeObjectURL(u.href)}),4e4),setTimeout((function(){r(u)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,a,i){if(a=a||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,i),a);else if(o(e))n(e,a,i);else{var l=document.createElement("a");l.href=e,l.target="_blank",setTimeout((function(){r(l)}))}}:function(e,t,a,o){if(o=o||open("","_blank"),o&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return n(e,t,a);var r="application/octet-stream"===e.type,l=/constructor/i.test(i.HTMLElement)||i.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||r&&l)&&"object"==typeof FileReader){var s=new FileReader;s.onloadend=function(){var e=s.result;e=u?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},s.readAsDataURL(e)}else{var d=i.URL||i.webkitURL,c=d.createObjectURL(e);o?o.location=c:location.href=c,o=null,setTimeout((function(){d.revokeObjectURL(c)}),4e4)}});i.saveAs=l.saveAs=l,e.exports=l}))}).call(this,a("c8ba"))},2909:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a("6b75");function o(e){if(Array.isArray(e))return Object(n["a"])(e)}function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}var i=a("06c5");function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e){return o(e)||r(e)||Object(i["a"])(e)||l()}},3846:function(e,t,a){a("9e1e")&&"g"!=/./g.flags&&a("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:a("0bfb")})},4685:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"animated fadeIn",attrs:{vf:""}},[a("b-row",[a("b-col",{attrs:{lg:"12"}},[a("b-dropdown",{ref:"dropdown",staticClass:"m-2",attrs:{boundary:"",id:"dropdown-form",text:"Tambah / Edit Dokumen",enctype:"multipart/form-data"},on:{submit:function(e){e.stopPropagation(),e.preventDefault()}}},[a("form-wizard",{attrs:{title:"Tambah / Edit Dokumen",subtitle:"Step-Step Yang Dibtuhkan","finish-button-text":"Tekan Tombol Update/Add"},scopedSlots:e._u([{key:"footer",fn:function(t){return[a("div",{staticClass:"wizard-footer-right"},[t.isLastStep?a("wizard-button",{staticClass:"wizard-footer-right finish-button",style:t.fillButtonStyle},[e._v(e._s(t.isLastStep?"Done":"Next"))]):a("wizard-button",{staticClass:"wizard-footer-right",style:t.fillButtonStyle,nativeOn:{click:function(e){return t.nextTab()}}},[e._v("Next")])],1)]}}])},[a("tab-content",{attrs:{title:"Step Pertama"}},[a("b-form-group",{attrs:{label:"Tahun","label-for":"dropdown-form-Tahun"}},[a("b-form-input",{attrs:{id:"dropdown-form-Tahun",size:"sm",placeholder:"Tahun Dokumen"},model:{value:e.tahun,callback:function(t){e.tahun=t},expression:"tahun"}})],1),a("b-form-group",{attrs:{validated:"",label:"Nomor Dokumen","label-for":"dropdown-form-noDokumen"}},[a("b-form-input",{attrs:{id:"dropdown-form-noDokumen",size:"sm",required:"",placeholder:"Masukan Nomor Dokumen"},model:{value:e.noDokumen,callback:function(t){e.noDokumen=t},expression:"noDokumen"}}),a("b-form-invalid-feedback",{attrs:{id:"input-live-feedback"}},[e._v("Tidak Boleh Kosong")])],1),a("b-form-group",{attrs:{validated:"",label:"Judul Dokumen","label-for":"dropdown-form-judul"}},[a("b-form-input",{attrs:{id:"dropdown-form-judul",size:"sm",required:"",placeholder:"Masukan Judul Dokumen"},model:{value:e.judul,callback:function(t){e.judul=t},expression:"judul"}}),a("b-form-invalid-feedback",{attrs:{id:"input-live-feedback"}},[e._v("Tidak Boleh Kosong")])],1)],1),a("tab-content",{attrs:{title:"Step 2"}},[a("b-form-group",{attrs:{label:"Jenis Dokumen"}},[a("b-form-radio",{attrs:{name:"Jenis",value:"1"},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[e._v("SKB")]),a("b-form-radio",{attrs:{name:"Jenis",value:"2"},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[e._v("PKS")]),a("b-form-radio",{attrs:{name:"Jenis",value:"3"},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[e._v("PKSA")])],1)],1),a("tab-content",{attrs:{title:"Step 3"}},[a("b-form-group",{attrs:{label:"Manfaat Dokumen","label-for":"dropdown-form-manfaat"}},[a("b-form-input",{attrs:{id:"dropdown-form-manfaat",size:"sm",placeholder:"Manfaat Dokumen",required:""},model:{value:e.manfaat,callback:function(t){e.manfaat=t},expression:"manfaat"}})],1),a("b-form-group",{attrs:{label:"Ref Dokumen","label-for":"dropdown-form-ref"}},[a("b-form-input",{attrs:{id:"dropdown-form-Ref",size:"sm",placeholder:"Dokumen Ref"},model:{value:e.refDokumen,callback:function(t){e.refDokumen=t},expression:"refDokumen"}})],1),a("b-form-group",{attrs:{label:"Link Peserta","label-for":"dropdown-form-Peserta"}},[a("b-form-input",{attrs:{id:"dropdown-form-Peserta",size:"sm",placeholder:"Link Peserta"},model:{value:e.peserta,callback:function(t){e.peserta=t},expression:"peserta"}})],1)],1),a("tab-content",{attrs:{title:"Step 4"}},[a("b-form-group",{attrs:{validated:"",label:"Tanggal Mulai","label-for":"dropdown-form-tanggal-Mulai"}},[a("b-form-input",{attrs:{id:"mulai-input",type:"text",placeholder:"YYYY-MM-DD",required:""},model:{value:e.valueTanggalMulai,callback:function(t){e.valueTanggalMulai=t},expression:"valueTanggalMulai"}}),a("b-form-invalid-feedback",{attrs:{id:"input-live-feedback"}},[e._v("Tidak Boleh Kosong")])],1),a("b-form-group",{attrs:{validated:"",label:"Tanggal Akhir","label-for":"dropdown-form-tanggal-Akhir"}},[a("b-form-input",{attrs:{id:"akhir-input",type:"text",placeholder:"YYYY-MM-DD",required:""},model:{value:e.valueTanggalAkhir,callback:function(t){e.valueTanggalAkhir=t},expression:"valueTanggalAkhir"}}),a("b-form-invalid-feedback",{attrs:{id:"input-live-feedback"}},[e._v("Tidak Boleh Kosong")])],1),a("b-form-group",{directives:[{name:"show",rawName:"v-show",value:!e.updateSubmit,expression:"!updateSubmit"}],attrs:{validated:"",label:"Mitra 1","label-for":"dropdown-form-mitra1"}},[a("b-form-select",{attrs:{options:e.options,required:""},model:{value:e.mitra1,callback:function(t){e.mitra1=t},expression:"mitra1"}})],1),a("b-form-group",{directives:[{name:"show",rawName:"v-show",value:!e.updateSubmit,expression:"!updateSubmit"}],attrs:{validated:"",label:"Mitra 2","label-for":"dropdown-form-mitra2"}},[a("b-form-select",{attrs:{options:e.options,required:""},model:{value:e.mitra2,callback:function(t){e.mitra2=t},expression:"mitra2"}})],1)],1),a("tab-content",{attrs:{title:"Step 5"}},[a("b-form-group",{attrs:{label:"Warning Time","label-for":"dropdown-form-warning"}},[a("b-form-input",{attrs:{id:"dropdown-form-Warning",size:"sm",placeholder:"Warning Time"},model:{value:e.warningTime,callback:function(t){e.warningTime=t},expression:"warningTime"}})],1),a("b-form-group",{attrs:{label:"Alasan","label-for":"dropdown-form-Alasan"}},[a("b-form-input",{attrs:{id:"dropdown-form-Alasan",size:"sm",placeholder:"Alasan"},model:{value:e.Alasan,callback:function(t){e.Alasan=t},expression:"Alasan"}})],1),a("b-form-checkbox",{attrs:{id:"checkbox-4",name:"checkbox-4",value:"1","unchecked-value":"0"},model:{value:e.renew,callback:function(t){e.renew=t},expression:"renew"}},[e._v("Auto Renew")]),a("b-form-checkbox",{attrs:{id:"checkbox-5",name:"checkbox-5",value:"1","unchecked-value":"0"},model:{value:e.hapus,callback:function(t){e.hapus=t},expression:"hapus"}},[e._v("Delete")]),a("b-form-file",{staticClass:"mt-3",attrs:{accept:".pdf",plain:""},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}}),a("b-button",{directives:[{name:"show",rawName:"v-show",value:!e.updateSubmit,expression:"!updateSubmit"}],attrs:{variant:"primary",size:"sm"},on:{click:e.onClick}},[e._v("Add")]),a("b-button",{directives:[{name:"show",rawName:"v-show",value:e.updateSubmit,expression:"updateSubmit"}],attrs:{variant:"primary",size:"sm"},on:{click:e.onClickUpdate}},[e._v("Update")])],1)],1),a("b-dropdown-form",{attrs:{enctype:"multipart/form-data"},on:{submit:function(e){e.stopPropagation(),e.preventDefault()}}})],1),a("b-button",{attrs:{variant:"primary"},on:{click:e.onDownload}},[a("b-spinner",{directives:[{name:"show",rawName:"v-show",value:!e.clicked,expression:"!clicked"}],attrs:{small:""}}),e._v("Download Dokumen\n      ")],1),a("b-button",{attrs:{variant:"primary"},on:{click:e.onClickrender}},[e._v("Refresh Form")]),a("c-table",{attrs:{"table-data":e.items,keyword:e.keyword,responsive:"sm",fixed:"",bordered:"",caption:"<i class='fa fa-align-justify'></i> Table Dokumen"},on:{"row-clicked":function(t){return e.onClickForm(t)}}})],1)],1)],1)},o=[],r=(a("ac4d"),a("5df3"),a("7f7f"),a("6b54"),a("a481"),a("2909")),i=(a("cadf"),a("8615"),a("ac6a"),a("96cf"),a("1da1")),l=(a("8992"),a("8229")),u=a("2ee4");a("da93");function s(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=d(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,l=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return i=e.done,e},e:function(e){l=!0,r=e},f:function(){try{i||null==a.return||a.return()}finally{if(l)throw r}}}}function d(e,t){if(e){if("string"===typeof e)return c(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}a("21a6");var f,m,p,b,h,k,g,v,w,_=function(){return Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,n,o,i,l,u,d,c,h,k,g;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return m=localStorage.getItem("tokena"),e.next=3,axios.post("http://dks.it.maranatha.edu:3000/dokumen",{token:m,_method:"GET"}).catch((function(e){return console.log("Ada Error dengan Dokumen")}));case 3:return f=e.sent,e.next=6,axios.post("http://dks.it.maranatha.edu:3000/mitra",{token:m,_method:"GET"}).catch((function(e){return console.log("Ada Error dengan Mitra")}));case 6:for(p=e.sent,t=[],b=[],Object.values(p.data.values).forEach((function(e){t.push(e)})),console.log(t),[],a=t,n=JSON.parse(JSON.stringify(a)),o=0;o<n.length;o++)b.push({value:n[o]["id_mitra"],text:n[o]["nama_mitra"]});i=[],l=[],i=Object(r["a"])(f.data.values),u=s(i);try{for(u.s();!(d=u.n()).done;)c=d.value,c.Tahun=c.id,c.No_Dokumen=c.no_dokumen,c.Judul_Dokumen=c.judul_dokumen,c.Manfaat_Dokumen=c.manfaat_dokumen,c.Tanggal_Awal=c.tgl_awal,c.Tanggal_Akhir=c.tgl_akhir,c.Dokumen_Ref=c.dokumen_ref,c.No_Dokumen=c.no_dokumen,c.Link_Dokumen=c.link_dokumen,c.Link_Peserta=c.link_peserta,c.Waktu_Peringatan=c.warningtime,c.Jumlah_Pembaharuan=c.renew_count,c.Alasan=c.reason,c.Dihapus=c.is_deleted,c.Perbaharui=c.autorenew,c.Jenis_Dokumen=c.jenis_dokumen_id,c.Evaluasi=c.evaluation,delete c.id,delete c.no_dokumen,delete c.judul_dokumen,delete c.manfaat_dokumen,delete c.tgl_awal,delete c.tgl_akhir,delete c.dokumen_ref,delete c.no_dokumen,delete c.link_dokumen,delete c.link_peserta,delete c.warningtime,delete c.renew_count,delete c.reason,delete c.is_deleted,delete c.autorenew,delete c.jenis_dokumen_id,delete c.evaluation,delete c.created_at}catch(v){u.e(v)}finally{u.f()}l=i.map((function(e){return e.mitra_1=e.mitras[0].nama_mitra,e.mitra_2=e.mitras[1].nama_mitra,e})),h=s(i);try{for(h.s();!(k=h.n()).done;)g=k.value,delete g.mitras}catch(v){h.e(v)}finally{h.f()}return e.abrupt("return",l);case 24:case"end":return e.stop()}}),e)})))},y={computed:{requiredstate1:function(){return v=null!=this.noDokumen&&null!=this.judul,v},requiredstate2:function(){return w=null!=this.valueTanggalMulai&&null!=this.valueTanggalAkhir,w}},name:"tablesd",components:{cTable:l["a"],FormWizard:u["FormWizard"],TabContent:u["TabContent"]},data:function(){return{tahun:"",noDokumen:"",judul:"",manfaat:"",selected:"",mitra1:"",mitra2:"",options:[],valueTanggalMulai:"",valueTanggalAkhir:"",refDokumen:"",peserta:"",Alasan:"",warningTime:60,file:"",renew:0,hapus:0,updateSubmit:!1,clicked:!0,keyword:"",items:_,itemsArray:_()}},methods:{onClick:function(){var e=this;!1===this.clicked?this.clicked=!0:this.clicked=!1,g=[],g.push(this.mitra1,this.mitra2);var t=new FormData;t.append("token",m),t.append("tahun",this.tahun),t.append("judul_dokumen",this.judul),t.append("no_dokumen",this.noDokumen),t.append("jenis_dokumen_id",this.selected),t.append("mitras",g),t.append("tgl_awal",this.valueTanggalMulai),t.append("tgl_akhir",this.valueTanggalAkhir),t.append("dokumen_ref",this.refDokumen),t.append("file",this.file),t.append("link_peserta",this.peserta),t.append("warningtime",this.warningTime),t.append("reason",this.Alasan),t.append("autorenew",this.renew);axios.post("http://dks.it.maranatha.edu:3000/dokumen",t).catch((function(t){return e.$router.push({path:"/pages/500"})}));location.reload()},onClickForm:function(e){h=JSON.stringify(e["Tahun"]).replace(/"/g,""),k=JSON.stringify(e["Judul_Dokumen"]).replace(/"/g,"");var t=JSON.stringify(e["No_Dokumen"]).replace(/"/g,""),a=JSON.stringify(e["Jenis_Dokumen"]).replace(/"/g,""),n=JSON.stringify(e["Manfaat_Dokumen"]).replace(/"/g,""),o=JSON.stringify(e["Tanggal_Awal"]).replace(/"/g,""),r=JSON.stringify(e["Tanggal_Akhir"]).replace(/"/g,""),i=JSON.stringify(e["Dokumen_Ref"]).replace(/"/g,""),l=JSON.stringify(e["Link_Dokumen"]).replace(/"/g,""),u=(JSON.stringify(e["Link_Peserta"]).replace(/"/g,""),JSON.stringify(e["Waktu_Peringatan"]).replace(/"/g,""),JSON.stringify(e["Alasan"]).replace(/"/g,""),JSON.stringify(e["Perbaharui"]).replace(/"/g,""),JSON.stringify(e["mitra_1"]).replace(/"/g,"")),s=JSON.stringify(e["mitra_2"]).replace(/"/g,"");this.tahun=h,this.noDokumen=t,this.judul=k,this.selected=a,this.manfaat=n,this.valueTanggalMulai=o,this.valueTanggalAkhir=r,this.refDokumen=i,this.mitra1=u,this.mitra2=s,this.file=l,this.updateSubmit=!0},onClickrender:function(){this.options=b,this.tahun="",this.noDokumen="",this.judul="",this.selected="",this.manfaat="",this.valueTanggalMulai="",this.valueTanggalAkhir="",this.refDokumen="",this.mitra1="",this.mitra2="",this.file="",this.updateSubmit=!1},onClickUpdate:function(){var e=this,t=new FormData;t.append("token",m),t.append("judul_dokumen",this.judul),t.append("no_dokumen",this.noDokumen),t.append("jenis_dokumen_id",this.selected),t.append("tgl_awal",this.valueTanggalMulai),t.append("tgl_akhir",this.valueTanggalAkhir),t.append("manfaat_dokumen",this.manfaat),t.append("dokumen_ref",this.refDokumen),t.append("is_deleted",this.hapus),t.append("autorenew",this.renew),t.append("file",this.file);axios.post("http://dks.it.maranatha.edu:3000/dokumen/"+h,t).catch((function(t){return e.$router.push({path:"/pages/500"})}));this.updateSubmit=!1,console.log("masuk ke updte berhasil")},onDownload:function(){var e=this;console.log(m);axios.post("http://dks.it.maranatha.edu:3000/docs/"+h,{_method:"GET",token:m},{responseType:"blob"}).then((function(e){console.log(e);var t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t,a.setAttribute("download",h+" "+k+".pdf"),document.body.appendChild(a),a.click()})).catch((function(t){return e.$router.push({path:"/pages/500"})}))}},mounted:function(){this.onClickrender()}},D=y,T=a("2877"),S=Object(T["a"])(D,n,o,!1,null,null,null);t["default"]=S.exports},"6b54":function(e,t,a){"use strict";a("3846");var n=a("cb7c"),o=a("0bfb"),r=a("9e1e"),i="toString",l=/./[i],u=function(e){a("2aba")(RegExp.prototype,i,e,!0)};a("79e5")((function(){return"/a/b"!=l.call({source:"a",flags:"b"})}))?u((function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!r&&e instanceof RegExp?o.call(e):void 0)})):l.name!=i&&u((function(){return l.call(this)}))},"6b75":function(e,t,a){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}a.d(t,"a",(function(){return n}))},"7f7f":function(e,t,a){var n=a("86cc").f,o=Function.prototype,r=/^\s*function ([^ (]*)/,i="name";i in o||a("9e1e")&&n(o,i,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(e){return""}}})},ac4d:function(e,t,a){a("3a72")("asyncIterator")}}]);
//# sourceMappingURL=chunk-4e23d04d.5d873541.js.map